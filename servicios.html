<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IOELECTROGASES – Servicios</title>

  <!-- Bootstrap CSS local -->
  <link rel="stylesheet" href="css/bootstrap.min.css" />

  <!-- FontAwesome CSS local (para íconos) -->
  <link rel="stylesheet" href="css/all.min.css" />

  <link rel="stylesheet" href="css/style.css">

  <style>
    /* =============================
       ESTILOS PARA LA VISTA “Servicios”
       ============================= */

    /* ===== Servicio al Cliente ===== */
    #servicioCliente {
      background-color: #f8f9fa;
      padding: 4rem 0;
    }
    #servicioCliente .cliente-img {
      max-height: 500px; /* igual que el carrusel */
      object-fit: cover;
    }

    /* ===== PQRS / Servicio ===== */
    #pqrServicio .form-control {
      border-radius: 0;
    }
    #pqrServicio .btn-primary {
      border-radius: 0;
    }

    /* ===== Preguntas Frecuentes ===== */
    #faqServicio .accordion-button::after {
      margin-left: auto;
    }
    #faqServicio .accordion-item + .accordion-item {
      border-top: 1px solid #dee2e6;
    }

    /* ===== Footer ===== */
    footer {
      background-color: #212529;
      color: #ffffff;
    }
    footer a {
      color: #ffffff;
      text-decoration: none;
    }
    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <!-- ============================
       BARRA DE NAVEGACIÓN (Header)
       ============================ -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm sticky-top">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="index.html">
        <img src="img/logo.png" alt="IOELECTROGASES Logo" style="height: 40px;" class="me-2" />
        <span class="fs-4 fw-bold">IOELECTROGASES</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbarServicios" aria-controls="mainNavbarServicios" aria-expanded="false" aria-label="Abrir menú de navegación">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="mainNavbarServicios">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
          <li class="nav-item"><a class="nav-link" href="conocenos.html">Conócenos</a></li>
          <li class="nav-item"><a class="nav-link active" aria-current="page" href="servicios.html">Servicios</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownServicios" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Más
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownServicios">
              <li><a class="dropdown-item" href="marco_legal.html">Marco legal</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- ================================
       SECCIÓN 1: Servicio al Cliente
       ================================ -->
  <section id="servicioCliente">
    <div class="container text-center">
      <h2 class="fw-bold mb-4">Servicio al Cliente</h2>
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <img
            src="img/svo.png"
            alt="Servicio al Cliente"
            class="img-fluid rounded shadow-sm cliente-img"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- =====================================
       SECCIÓN 2: PQRS / Servicio + Imagen
       ===================================== -->
<section id="pqrServicio" class="py-5 bg-light">
  <div class="container">
    <div class="row gx-5 align-items-center">
      <!-- Formulario (columna izquierda) -->
      <div class="col-lg-7 mb-4 mb-lg-0">
        <div class="card shadow-sm">
          <div class="card-body p-4">
            <h3 class="h4 mb-4">
              <i class="fas fa-comment-dots text-primary me-2"></i>
              Envíanos tu PQRS / Servicio
            </h3>

            <!-- IMPORTANTE: aquí NO se usa action ni method -->
            <!-- onsubmit llama a enviarPorGAS(event) -->
            <form id="pqrForm" class="needs-validation" novalidate onsubmit="enviarPorGAS(event)">
              <div class="row g-3">
                <div class="col-md-6">
                  <label for="pqrName" class="form-label">Nombre</label>
                  <input
                    type="text"
                    class="form-control"
                    id="pqrName"
                    name="from_name"
                    required
                  />
                  <div class="invalid-feedback">Ingresa tu nombre.</div>
                </div>
                <div class="col-md-6">
                  <label for="pqrEmail" class="form-label">Email</label>
                  <input
                    type="email"
                    class="form-control"
                    id="pqrEmail"
                    name="reply_to"
                    required
                  />
                  <div class="invalid-feedback">Ingresa un email válido.</div>
                </div>
              </div>

              <div class="mb-3 mt-3">
                <label for="pqrType" class="form-label">Tipo de Solicitud</label>
                <select
                  id="pqrType"
                  name="tipo"
                  class="form-select"
                  required
                >
                  <option value="" disabled selected>Selecciona...</option>
                  <option value="petición">Petición</option>
                  <option value="queja">Queja</option>
                  <option value="reclamo">Reclamo</option>
                  <option value="servicio">Servicio</option>
                </select>
                <div class="invalid-feedback">Selecciona un tipo.</div>
              </div>

              <div class="mb-3">
                <label for="pqrDetails" class="form-label">Detalles</label>
                <textarea
                  id="pqrDetails"
                  name="message"
                  rows="5"
                  class="form-control"
                  required
                ></textarea>
                <div class="invalid-feedback">Escribe los detalles.</div>
              </div>

              <div class="d-grid">
                <button type="submit" class="btn btn-primary btn-lg">Enviar Solicitud</button>
              </div>

              <!-- Mensaje de éxito oculto inicialmente -->
              <div
                id="pqrSuccess"
                class="alert alert-success mt-4 d-none"
                role="alert"
              >
                <i class="fas fa-check-circle me-2"></i>
                ¡Gracias! Tu solicitud ha sido enviada. Te contactaremos en un lapso de 48 horas.
              </div>
            </form>
          </div>
        </div>
      </div>

        <!-- Imagen (derecha) -->
        <div class="col-lg-5">
          <img
            src="img/llamada.jpg"
            alt="Ilustración PQRS/Servicio"
            class="img-fluid rounded shadow-sm"
            style="height: 550px;"

          />
        </div>
      </div>
    </div>
  </section>

  <!-- =============================
       SECCIÓN 3: Preguntas Frecuentes
       ============================= -->
  <section id="faqServicio" class="py-5">
    <div class="container">
      <h2 class="text-center fw-bold mb-5">Preguntas Frecuentes</h2>
      <div class="accordion" id="accordionFAQ">
        <!-- Pregunta 1 -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="faqHeading1">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse1" aria-expanded="false" aria-controls="faqCollapse1">
              ¿Cómo agendo una Revisión Obligatoria?
            </button>
          </h2>
          <div id="faqCollapse1" class="accordion-collapse collapse" aria-labelledby="faqHeading1" data-bs-parent="#accordionFAQ">
            <div class="accordion-body">
              Para agendar tu Revisión Obligatoria, ve al formulario de PQRS/Servicio,
              selecciona “Servicio” como tipo y en los detalles menciona “Revisión Obligatoria”. 
              Nos comunicaremos contigo para confirmar fecha y hora.
            </div>
          </div>
        </div>

        <!-- Pregunta 2 -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="faqHeading2">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse2" aria-expanded="false" aria-controls="faqCollapse2">
              ¿Cuál es el tiempo de respuesta de Atención al Cliente?
            </button>
          </h2>
          <div id="faqCollapse2" class="accordion-collapse collapse" aria-labelledby="faqHeading2" data-bs-parent="#accordionFAQ">
            <div class="accordion-body">
              Nuestro equipo de Atención al Cliente responde en un máximo de 24 horas hábiles. 
              Si necesitas asistencia inmediata, puedes contactarnos vía WhatsApp o llamada telefónica.
            </div>
          </div>
        </div>

        <!-- Pregunta 3 -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="faqHeading3">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse3" aria-expanded="false" aria-controls="faqCollapse3">
              ¿Qué documentos necesito para la Revisión Preventiva?
            </button>
          </h2>
          <div id="faqCollapse3" class="accordion-collapse collapse" aria-labelledby="faqHeading3" data-bs-parent="#accordionFAQ">
            <div class="accordion-body">
              Para la Revisión Preventiva, solo necesitas tener a la mano copia de la última certificación 
              y los datos de tu instalación (dirección y tipo de equipo). Nuestro técnico te guiará en el proceso.
            </div>
          </div>
        </div>

        <!-- Pregunta 4 -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="faqHeading4">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse4" aria-expanded="false" aria-controls="faqCollapse4">
              ¿Puedo cancelar o reprogramar mi cita?
            </button>
          </h2>
          <div id="faqCollapse4" class="accordion-collapse collapse" aria-labelledby="faqHeading4" data-bs-parent="#accordionFAQ">
            <div class="accordion-body">
              Sí, puedes solicitar cancelación o reprogramación al menos 24 horas antes de la cita. 
              Contáctanos al teléfono o WhatsApp para gestionar el cambio.
            </div>
          </div>
        </div>

        <!-- Pregunta 5 -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="faqHeading5">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse5" aria-expanded="false" aria-controls="faqCollapse5">
              ¿Qué pasa si mi equipo no pasa la Revisión Obligatoria?
            </button>
          </h2>
          <div id="faqCollapse5" class="accordion-collapse collapse" aria-labelledby="faqHeading5" data-bs-parent="#accordionFAQ">
            <div class="accordion-body">
              Si tu equipo no cumple con los estándares de seguridad, nuestro técnico te entregará 
              un reporte detallado y recomendaciones de corrección. Luego podrás agendar una revisión 
              para comprobar las mejoras.
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- =====================
       FOOTER COMÚN
       ===================== -->
  <footer class="bg-dark text-white pt-5">
    <div class="container">
      <div class="row">
        <!-- IZQUIERDA: Nombre y mensaje -->
        <div class="col-md-4 mb-4">
          <h5 class="fw-bold">IOELECTROGASES</h5>
          <p class="mb-0">Confianza y respaldo</p>
        </div>
        <!-- DERECHA: Tres apartados -->
        <div class="col-md-8">
          <div class="row">
            <!-- 1: Acerca de -->
            <div class="col-6 col-lg-4 mb-4">
              <h6 class="text-uppercase fw-bold">Acerca de</h6>
              <ul class="list-unstyled">
                <li><a href="conocenos.html" class="text-white">Conócenos</a></li>
                <li><a href="servicios.html" class="text-white">Trabaja con nosotros</a></li>
                <li><a href="conocenos.html" class="text-white">Nuestros aliados</a></li>
              </ul>
            </div>
            <!-- 2: Servicio al Cliente -->
            <div class="col-6 col-lg-4 mb-4">
              <h6 class="text-uppercase fw-bold">Servicio al Cliente</h6>
              <ul class="list-unstyled">
                <li><a href="servicios.html#servicioCliente" class="text-white">Contáctanos</a></li>
                <li><a href="servicios.html#pqrServicio" class="text-white">Agenda tu revisión</a></li>
                <li><a href="servicios.html#faqServicio" class="text-white">PQRS</a></li>
                <li><a href="servicios.html" class="text-white text-decoration-none">Preguntas frecuentes</a></li>
              </ul>
            </div>
            <!-- 3: Legal -->
            <div class="col-6 col-lg-4 mb-4">
              <h6 class="text-uppercase fw-bold">Legal</h6>
              <ul class="list-unstyled">
                <li><a href="marco_legal.html" class="text-white">Política de datos</a></li>
                <li><a href="marco_legal.html" class="text-white">Términos y condiciones</a></li>
                <li><a href="marco_legal.html" class="text-white">Revisión periódica</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <hr class="border-secondary" />
      <div class="text-center pb-3">
        <small>&copy; 2025 IOELECTROGASES. Todos los derechos reservados.</small>
      </div>
    </div>
  </footer>

  <!-- Bootstrap JS local -->
  <script src="js/bootstrap.bundle.min.js"></script>

  <!-- Script para validación de formulario PQRS/Servicio -->
  <script>
    (function() {
      const form = document.getElementById('pqrForm');
      const success = document.getElementById('pqrSuccess');
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        if (!form.checkValidity()) {
          form.classList.add('was-validated');
          return;
        }
        form.reset();
        form.classList.remove('was-validated');
        success.classList.remove('d-none');
      });
    })();
  </script>
<script>
  function enviarPorGAS(event) {
    event.preventDefault(); // Evita que el formulario haga submit convencional

    const form = document.getElementById("pqrForm");
    if (!form.checkValidity()) {
      // Si falla la validación de Bootstrap, mostramos feedback y no seguimos
      form.classList.add("was-validated");
      return;
    }

    // Construimos el FormData con los campos del formulario
    const data = new FormData(form);

    // 1) Aquí va la URL EXACTA de tu Web App de Apps Script
    fetch("https://script.google.com/macros/s/AKfycbzouDEESnvWj_Bp25T3VmPxM5a_Xux9Li-co2P_UyhCX-ar3c7SWTyQkg7n-q9G7_hX/exec", {
      method: "POST",
      mode: "cors",   // Cambiamos a "cors" ahora que habilitamos CORS en doPost
      body: data
    })
    .then(response => {
      // Verificamos que recibimos un 200 OK
      if (!response.ok) {
        throw new Error("HTTP " + response.status);
      }
      return response.json(); // parsea el JSON que devuelve doPost
    })
    .then(obj => {
      // El doPost de tu Apps Script devuelve { status: "ok" }
      if (obj.status === "ok") {
        // Limpiamos el formulario y mostramos el mensaje de éxito
        form.reset();
        form.classList.remove("was-validated");
        document.getElementById("pqrSuccess").classList.remove("d-none");
      } else {
        alert("Hubo un problema en el servidor. Intenta de nuevo.");
      }
    })
    .catch(error => {
      console.error("Error al enviar PQRS:", error);
      alert("Hubo un problema al enviar tu solicitud. Intenta de nuevo.");
    });

    return false;
  }
</script>

</body>
</html>
